(function(t){function e(e){for(var s,c,o=e[0],n=e[1],l=e[2],u=0,v=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&v.push(i[c][0]),i[c]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var n=a[o];0!==i[n]&&(s=!1)}s&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},i={app:0},r=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],n=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=n;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1186:function(t,e,a){},"45bc":function(t,e,a){"use strict";var s=a("1186"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("bc3a"),r=a.n(i),c=a("a7fe"),o=a.n(c),n=a("7bb1"),l=a("427f"),d=a.n(l),u=a("a925"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("home")],1)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productContainer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"Content"===t.showPage||"Description"===t.showPage||"PrivacyPolicy"===t.showPage,expression:"showPage === 'Content' || showPage === 'Description' || showPage === 'PrivacyPolicy'"}],staticClass:"notice_page",style:"height:"+t.innerHeight+"px"},[a("div",{staticClass:"background"},[a("div",{staticClass:"close",on:{click:function(e){t.selectProduct={},t.showPage="main"}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("div",{domProps:{innerHTML:t._s(t.unescapeHTML(t.store[t.showPage]))}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"cart"===t.showPage,expression:"showPage === 'cart'"}],staticClass:"cart",style:"height:"+t.innerHeight+"px"},[a("div",{staticClass:"background"},[a("div",{staticClass:"close"},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(e){t.selectProduct={},t.showPage="main",t.stepIndex=1}}})]),a("div",{staticClass:"step"},[a("div",{staticClass:"stepItem",class:{stepItemActive:1===t.stepIndex}},[a("div",{staticClass:"icon"},[t._v("1")]),a("p",[t._v("確認購物車")])]),a("div",{staticClass:"arrow",class:{arrowActive:1===t.stepIndex}},[a("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"stepItem",class:{stepItemActive:2===t.stepIndex}},[a("div",{staticClass:"icon"},[t._v("2")]),a("p",[t._v("付款與運送方式")])]),a("div",{staticClass:"arrow",class:{arrowActive:2===t.stepIndex}},[a("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"stepItem",class:{stepItemActive:3===t.stepIndex}},[a("div",{staticClass:"icon"},[t._v("3")]),a("p",[t._v("完成訂單")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.carts.length&&1===t.stepIndex,expression:"(carts.length !== 0 )&& stepIndex === 1"}],staticClass:"stepOne"},[a("table",[t._m(0),a("tbody",[t._l(t.carts,(function(e,s){return[a("tr",{key:e.ID,staticClass:"p-1"},[a("td",{staticClass:"picName"},[a("div",{staticClass:"pic",style:{backgroundImage:"url("+e.Img1+")"}}),a("div",{staticClass:"name"},[t._v(t._s(e.Name))])]),a("td",{staticClass:"price m_hide"},[t._v(" NT$ "+t._s(e.NowPrice)+" ")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.store.Enable,expression:"store.Enable === '1'"}],staticClass:"qtyBox"},[a("div",{staticClass:"reduce",class:{qtyDisabled:e.buyQty<1},on:{click:function(a){return t.updateCartsBuyQty(s,e.buyQty-1)}}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(e.buyQty)+" ")]),a("div",{staticClass:"add",class:{qtyDisabled:e.buyQty>9},on:{click:function(a){return t.updateCartsBuyQty(s,e.buyQty+1)}}},[a("i",{staticClass:"fa fa-plus"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.store.Enable,expression:"store.Enable === '0'"}],staticClass:"discontinued"},[t._v("停售中")])]),a("td",{staticClass:"subtotal s_hide"},[t._v(" NT$ "+t._s(e.NowPrice*e.buyQty)+" ")])]),t._l(e.addPrice,(function(s,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:s.Qty,expression:"item2.Qty"}],key:s.ID,staticClass:"p-1"},[a("td",{staticClass:"picName"},[a("div",{staticClass:"pic",style:{backgroundImage:"url("+s.Img+")"}},[a("div",{staticClass:"tag"},[t._v("加價購")])]),a("div",{staticClass:"name"},[t._v(t._s(s.Name))])]),a("td",{staticClass:"price m_hide"},[t._v(" NT$ "+t._s(s.Price)+" ")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.store.Enable,expression:"store.Enable === '1'"}],staticClass:"qtyBox"},[a("div",{staticClass:"reduce",class:{qtyDisabled:s.Qty<1},on:{click:function(a){return t.updateCartsAddpriceQty(e,i,s.Qty-1)}}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(s.Qty)+" ")]),a("div",{staticClass:"add",class:{qtyDisabled:s.Qty>e.buyQty-1},on:{click:function(a){return t.updateCartsAddpriceQty(e,i,s.Qty+1)}}},[a("i",{staticClass:"fa fa-plus"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.store.Enable,expression:"store.Enable === '0'"}],staticClass:"discontinued"},[t._v("停售中")])]),a("td",{staticClass:"subtotal s_hide"},[t._v(" NT$ "+t._s(s.Price*s.Qty)+" ")])])}))]}))],2)]),a("div",{staticClass:"discount"},[a("h5",{directives:[{name:"show",rawName:"v-show",value:1==t.store.Discount,expression:"store.Discount == 1"}],staticStyle:{color:"red","white-space":"nowrap"}},[t._v("消費滿"+t._s(t.store.Price)+"元 ，折扣"+t._s(t.store.Ratio)+"元 。")]),a("h5",{directives:[{name:"show",rawName:"v-show",value:2==t.store.Discount,expression:"store.Discount == 2"}],staticStyle:{color:"red","white-space":"nowrap"}},[t._v("消費滿"+t._s(t.store.Price)+"元 ，打"+t._s((100-t.store.Ratio)%10===0?(100-t.store.Ratio)/10:100-t.store.Ratio)+"折 。")]),a("p",[t._v("如果要使用折扣碼，請在此填入")]),a("div",{staticClass:"discountBox"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.discountCode,expression:"discountCode",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.discountCode},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.discount(e)},input:function(e){e.target.composing||(t.discountCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"button",on:{click:t.discount}},[t._v("使用折扣碼")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"total"},[a("ul",[a("li",[a("div",{staticClass:"before"},[t._v("商品金額")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Total))])]),a("li",[a("div",{staticClass:"before"},[t._v("+ 運費")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Shipping))])]),a("li",[a("div",{staticClass:"before"},[t._v("- 折扣")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Discount))])]),a("li",[a("div",{staticClass:"before"},[t._v("- 折扣碼優惠")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.DiscountCode))])]),a("li",[a("div",{staticClass:"before"},[t._v("= 金額總計")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Sum))])])])]),a("div",{staticClass:"next",on:{click:function(e){t.getStore(),t.stepIndex=2,t.transport="0"}}},[t._v("下一步")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.carts.length&&2===t.stepIndex,expression:"(carts.length !== 0 )&& stepIndex === 2"}],staticClass:"stepTwo"},[a("div",{staticClass:"title"},[t._v(" 填寫購買人資訊 ")]),a("form",{staticClass:"info"},[a("div",{staticClass:"left"},[a("label",{attrs:{for:"email"}},[t._v("購買人Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.info.purchaser_email,expression:"info.purchaser_email"}],class:{inputError:t.errors.first("email")},attrs:{type:"text",id:"email",name:"email",placeholder:"email"},domProps:{value:t.info.purchaser_email},on:{input:function(e){e.target.composing||t.$set(t.info,"purchaser_email",e.target.value)}}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("email")))]),a("label",{attrs:{for:"name"}},[t._v("購買人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.info.purchaser_name,expression:"info.purchaser_name"}],class:{inputError:t.errors.first("姓名")},attrs:{type:"text",id:"name",name:"姓名",placeholder:"姓名"},domProps:{value:t.info.purchaser_name},on:{input:[function(e){e.target.composing||t.$set(t.info,"purchaser_name",e.target.value)},t.pInput]}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("姓名")))]),a("label",{attrs:{for:"phone"}},[t._v("購買人聯絡電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.info.purchaser_number,expression:"info.purchaser_number"}],class:{inputError:t.errors.first("聯絡電話")},attrs:{type:"text",id:"phone",name:"聯絡電話",placeholder:"聯絡電話"},domProps:{value:t.info.purchaser_number},on:{input:[function(e){e.target.composing||t.$set(t.info,"purchaser_number",e.target.value)},t.pInput]}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("聯絡電話")))]),a("div",{staticClass:"box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isSame,expression:"isSame"}],attrs:{type:"checkbox",id:"isSame"},domProps:{checked:Array.isArray(t.isSame)?t._i(t.isSame,null)>-1:t.isSame},on:{change:function(e){var a=t.isSame,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,c=t._i(a,r);s.checked?c<0&&(t.isSame=a.concat([r])):c>-1&&(t.isSame=a.slice(0,c).concat(a.slice(c+1)))}else t.isSame=i}}}),a("label",{attrs:{for:"isSame"}},[t._v("購買人同收件人資料")])]),a("label",{attrs:{for:"rname"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.info.receiver_name,expression:"info.receiver_name"}],class:{inputError:t.errors.first("收件人姓名")},attrs:{type:"text",id:"rname",name:"收件人姓名",placeholder:"姓名"},domProps:{value:t.info.receiver_name},on:{input:function(e){e.target.composing||t.$set(t.info,"receiver_name",e.target.value)}}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("收件人姓名")))]),a("label",{attrs:{for:"rphone"}},[t._v("收件人聯絡電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.info.receiver_number,expression:"info.receiver_number"}],class:{inputError:t.errors.first("收件人聯絡電話")},attrs:{type:"text",id:"rphone",name:"收件人聯絡電話",placeholder:"聯絡電話"},domProps:{value:t.info.receiver_number},on:{input:function(e){e.target.composing||t.$set(t.info,"receiver_number",e.target.value)}}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("收件人聯絡電話")))])]),a("div",{staticClass:"right"},[a("label",{attrs:{for:"transport"}},[t._v("運送方式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transport,expression:"transport"}],class:{inputError:"0"===t.transport},attrs:{id:"transport",name:"運送方式"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.transport=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",disabled:""}},[t._v("=== 請選擇配送方式 ===")]),"1"===t.store.Shipping||"2"===t.store.Shipping?a("option",{attrs:{value:"1",selected:""}},[t._v("一般宅配")]):t._e(),"1"===t.store.Shipping||"3"===t.store.Shipping?a("option",{attrs:{value:"2",selected:""}},[t._v("到店自取")]):t._e()]),"0"===t.transport?a("div",{staticClass:"prompt"},[t._v(" 請選擇配送方式 ")]):t._e(),"0"!==t.store.Shipping?[a("label",{attrs:{for:"raddress"}},[t._v("收件地址")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.info.receiver_address,expression:"info.receiver_address"}],class:{inputError:t.errors.first("收件地址")},attrs:{type:"text",id:"raddress",name:"收件地址",placeholder:"收件地址"},domProps:{value:t.info.receiver_address},on:{input:function(e){e.target.composing||t.$set(t.info,"receiver_address",e.target.value)}}}),a("div",{staticClass:"prompt"},[t._v(t._s(t.errors.first("收件地址")))])]:t._e(),a("label",{attrs:{for:"feedback"}},[t._v("留言給我們")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.info.info_message,expression:"info.info_message"}],attrs:{name:"",id:"feedback",cols:"30",rows:"5",placeholder:"留言給我們"},domProps:{value:t.info.info_message},on:{input:function(e){e.target.composing||t.$set(t.info,"info_message",e.target.value)}}})],2)]),a("div",{staticClass:"total"},[a("ul",[a("li",[a("div",{staticClass:"before"},[t._v("商品金額")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Total))])]),a("li",[a("div",{staticClass:"before"},[t._v("+ 運費")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Shipping))])]),a("li",[a("div",{staticClass:"before"},[t._v("- 折扣")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Discount))])]),a("li",[a("div",{staticClass:"before"},[t._v("- 折扣碼優惠")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.DiscountCode))])]),a("li",[a("div",{staticClass:"before"},[t._v("= 金額總計")]),a("div",{staticClass:"after"},[t._v("NT$ "+t._s(t.total.Sum))])])])]),a("div",{staticClass:"buttonGroup"},[a("div",{staticClass:"button",on:{click:function(e){t.stepIndex=1}}},[t._v("上一步")]),a("div",{staticClass:"button",on:{click:function(e){return t.checkOrder()}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.orderIng,expression:"orderIng"}],staticClass:"fas fa-spinner fa-spin",staticStyle:{"margin-right":"5px"}}),t._v("完成訂單")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.carts.length,expression:"carts.length === 0"}],staticClass:"noItem"},[a("p",[t._v("購物車沒有內容")]),a("div",{staticClass:"button",on:{click:function(e){t.showPage="main"}}},[t._v("back")])]),t._m(1)])]),"selectProduct"===t.showPage?a("div",{staticClass:"selectProduct",style:"height:"+t.innerHeight+"px"},[a("div",{staticClass:"background"},[a("div",{staticClass:"close",on:{click:function(e){t.selectProduct={},t.showPage="main"}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"picContent"},[a("div",{ref:"picLength",staticClass:"pic"},[a("div",{staticClass:"mainPic",style:{backgroundImage:"url("+t.selectProduct.imgArr[t.selectProduct.mainImgIndex]+")"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.liLength,expression:"liLength"}],staticClass:"allPic"},[a("ul",{style:"left: -"+t.allPicUlleft*t.liLength+"px; width: "+t.selectProduct.allPicLength*t.liLength+"px;"},t._l(t.selectProduct.imgArr,(function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:e,expression:"item"}],key:e+"_"+s,ref:"liItem",refInFor:!0,class:{liActive:t.selectProduct.mainImgIndex===s},style:{backgroundImage:"url("+e+")"},on:{click:function(e){t.selectProduct.mainImgIndex=s}}})})),0)]),a("div",{staticClass:"controller"},[a("div",{staticClass:"left",class:{disabled:t.allPicUlleft-1<0},on:{click:function(e){t.allPicUlleft-1<0?t.allPicUlleft:t.allPicUlleft-=1}}},[a("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"right",class:{disabled:t.allPicUlleft+1>t.selectProduct.allPicLength-3},on:{click:function(e){t.allPicUlleft+1>t.selectProduct.allPicLength-3?t.allPicUlleft:t.allPicUlleft+=1}}},[a("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(t.selectProduct.Name))]),a("div",{staticClass:"price",staticStyle:{color:"#9e9e9e","text-decoration":"line-through","font-size":"14px"}},[t._v("NT$ "+t._s(t.selectProduct.Price))]),a("div",{staticClass:"price"},[t._v("NT$ "+t._s(t.selectProduct.NowPrice))]),a("div",{staticClass:"title"},[t._v(t._s(t.selectProduct.Content))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.store.Enable,expression:"store.Enable === '1'"}],staticClass:"qtyBox"},[a("div",{staticClass:"reduce",class:{qtyDisabled:t.selectProduct.buyQty<1},on:{click:function(e){return t.updateProductsBuyQty(t.selectIndex,t.selectProduct.buyQty-1)}}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(t.selectProduct.buyQty)+" ")]),a("div",{staticClass:"add",class:{qtyDisabled:t.selectProduct.buyQty>9},on:{click:function(e){return t.updateProductsBuyQty(t.selectIndex,t.selectProduct.buyQty+1)}}},[a("i",{staticClass:"fa fa-plus"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.store.Enable,expression:"store.Enable === '0'"}],staticClass:"discontinued"},[t._v("停售中")]),a("div",{staticClass:"goToCart",on:{click:function(e){t.showPage="cart"}}},[t._v(" 查看購物車 ")])])]),t.selectProduct.addPrice&&t.selectProduct.addPrice.length?a("div",{staticClass:"addPrice"},[a("div",{staticClass:"title"},[t._v("加價購")]),a("ul",t._l(t.selectProduct.addPrice,(function(e,s){return a("li",{key:e.ID},[a("div",{staticClass:"pic",style:{backgroundImage:"url("+e.Img+")"}}),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(e.Name))]),a("div",{staticClass:"price"},[t._v("NT$ "+t._s(e.Price))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.store.Enable,expression:"store.Enable === '1'"}],staticClass:"qtyBox"},[a("div",{staticClass:"reduce",class:{qtyDisabled:e.Qty<1},on:{click:function(a){return t.updateProductsAddpriceQty(t.selectProduct,s,e.Qty-1)}}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(e.Qty)+" ")]),a("div",{staticClass:"add",class:{qtyDisabled:e.Qty>t.selectProduct.buyQty-1},on:{click:function(a){return t.updateProductsAddpriceQty(t.selectProduct,s,e.Qty+1)}}},[a("i",{staticClass:"fa fa-plus"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.store.Enable,expression:"store.Enable === '0'"}],staticClass:"discontinued"},[t._v("停售中")])])])})),0)]):t._e(),a("div",{staticClass:"detail"},[a("div",{staticClass:"title"},[t._v("商品詳情")]),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.unescapeHTML(t.selectProduct.Detail))}})])])]):t._e(),t.pageFilterProduct[t.flyImgIndex]?a("div",{directives:[{name:"show",rawName:"v-show",value:t.showflyImg,expression:"showflyImg"}],staticClass:"flyImg",style:"top: "+t.flyImgTop+"px; left: "+t.flyImgLeft+"px"},[a("img",{attrs:{src:t.pageFilterProduct[t.flyImgIndex].Img1,alt:""}})]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:"main"===t.showPage,expression:"showPage === 'main'"}],staticClass:"cartIcon",class:{cartIconScale:t.cartIconScale},on:{click:function(e){t.showPage="cart",t.getTotal()}}},[a("i",{staticClass:"fa fa-shopping-cart fa-2x",attrs:{"aria-hidden":"true"}}),a("div",{staticClass:"num"},[t._v(" "+t._s(t.cartsLength)+" ")])]),a("div",{staticClass:"message_container"},t._l(t.messageArr,(function(e){return a("div",{key:e.id,ref:"m"+e.id,refInFor:!0,staticClass:"message",class:{messageActive:e.messageActive,messagefadeout:e.messagefadeout},style:"background:"+(e.isSuccess?"rgba(50, 200, 50, 0.6)":"rgba(255, 0, 0, 0.6)")},[t._v(" "+t._s(e.messageStr)+" ")])})),0),"main"===t.showPage?a("div",{staticClass:"main"},[a("div",{staticClass:"logo_name"},[t.store.Logo?a("div",{staticClass:"logo",style:{backgroundImage:"url("+t.store.Logo+")"}}):t._e()]),a("div",{staticClass:"categories"},[a("ul",t._l(t.categories,(function(e){return a("li",{key:e.ID,class:{categoryActive:e.ID===t.category},on:{click:function(a){t.category=e.ID,t.currentPage=1}}},[t._v(" "+t._s(e.Name)+" ")])})),0)]),a("div",{staticClass:"arrangement"},[a("div",[t._v("排列方式")]),a("div",{staticClass:"icon",class:{iconActive:0==t.arrangement},on:{click:function(e){t.arrangement=0}}},[a("i",{staticClass:"fa fa-th-large",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"icon",class:{iconActive:1==t.arrangement},on:{click:function(e){t.arrangement=1}}},[a("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"products",class:{change:1==t.arrangement}},[a("ul",t._l(t.pageFilterProduct,(function(e,s){return a("li",{key:e.ID},[a("div",{ref:"picWidth",refInFor:!0,staticClass:"pic",style:{backgroundImage:"url("+e.Img1+")",height:t.picHeight+"px"},on:{click:function(a){t.selectProduct=e,t.selectIndex=s,t.showPage="selectProduct",t.getAddPrice(e.ID,e),t.allPicUlleft=0}}},[a("div",{staticClass:"detailButton"},[t._v("查看詳情")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(e.content))]),a("div",{staticClass:"title"},[t._v(t._s(e.Name))]),a("div",{staticClass:"price",staticStyle:{color:"#9e9e9e","text-decoration":"line-through","font-size":"14px"}},[t._v("NT$ "+t._s(e.Price))]),a("div",{staticClass:"price"},[t._v("NT$ "+t._s(e.NowPrice))]),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.store.Enable,expression:"store.Enable === '1'"}],staticClass:"qtyBox"},[a("div",{staticClass:"reduce",class:{qtyDisabled:e.buyQty<1},on:{click:function(a){return t.updateProductsBuyQty(s,e.buyQty-1,a)}}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"number"},[t._v(" "+t._s(e.buyQty)+" ")]),a("div",{staticClass:"add",class:{qtyDisabled:e.buyQty>9},on:{click:function(a){return t.updateProductsBuyQty(s,e.buyQty+1,a)}}},[a("i",{staticClass:"fa fa-plus"})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.store.Enable,expression:"store.Enable === '0'"}],staticClass:"discontinued"},[t._v("停售中")])])])})),0)]),a("div",{staticClass:"pages"},[a("ul",[a("li",{class:{pageDisabled:1===t.currentPage},on:{click:function(e){return t.pageChange(t.currentPage-1)}}},[t._v(" Previous ")]),t._l(t.totalPage,(function(e){return a("li",{key:"page_"+e,class:{liActive:t.currentPage===e},on:{click:function(a){return t.pageChange(e)}}},[t._v(" "+t._s(e)+" ")])})),a("li",{class:{pageDisabled:t.currentPage===t.totalPage},on:{click:function(e){return t.pageChange(t.currentPage+1)}}},[t._v(" Next ")])],2)]),a("div",{staticClass:"notice"},[a("ul",[t.store.Content?a("li",{on:{click:function(e){t.showPage="Content"}}},[t._v(" 訂購須知 ")]):t._e(),t.store.Description?a("li",{on:{click:function(e){t.showPage="Description"}}},[t._v(" 配送須知 ")]):t._e(),t.store.PrivacyPolicy?a("li",{on:{click:function(e){t.showPage="PrivacyPolicy"}}},[t._v(" 隱私權聲明 ")]):t._e()])])]):t._e()])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v(" 商品 ")]),a("th",{staticClass:"m_hide"},[t._v(" 單價 ")]),a("th",[t._v(" 數量 ")]),a("th",{staticClass:"s_hide"},[t._v(" 小計 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"top"}),a("div",{staticClass:"bottom"},[t._v("POWERED AND SECURED BY")])])}],h=(a("99af"),a("4160"),a("a434"),a("ac1f"),a("5319"),a("159b"),a("96cf"),a("1da1")),g=a("2909"),y={data:function(){return{site:{},store:{},categories:[],products:[],carts:[],category:"",arrangement:0,totalPage:0,pageNum:12,currentPage:1,selectProduct:{},selectIndex:1,showPage:"main",showflyImg:0,cartIconScale:0,flyImgIndex:0,flyImgTop:0,flyImgLeft:0,cartsLength:0,messageArr:[],stepIndex:1,total:{},isSame:!1,transport:1,info:{purchaser_email:"",purchaser_name:"",purchaser_number:"",receiver_name:"",receiver_number:"",receiver_address:"",info_message:""},orderIng:!1,allPicUlleft:0,liLength:120,api:"192.168.6.239:5052",discountCode:"",useCodeSuccess:"",innerHeight:0,picHeight:0}},watch:{isSame:function(t){t?(this.info.receiver_name=this.info.purchaser_name,this.info.receiver_number=this.info.purchaser_number):(this.info.receiver_name="",this.info.receiver_number="")}},computed:{filterProducts:function(){var t=this,e=[];return"0"===t.category?e=t.products:t.products.forEach((function(a){if(a.categoryArr)for(var s=0;s<a.categoryArr.length;s++)if(a.categoryArr[s]===t.category){e.push(a);break}})),t.totalPage=Math.ceil(e.length/t.pageNum),e},pageFilterProduct:function(){var t,e=this,a=[];return this.filterProducts.forEach((function(s,i){t=(e.currentPage-1)*e.pageNum,t<=i&&i<=t+e.pageNum-1&&a.push(s)})),a}},methods:{login:function(t){this.site=JSON.parse(localStorage.getItem("site"))||[];var e="site=".concat(this.site.Site,"&store=").concat(this.site.Name),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},s="http://".concat(this.api,"/interface/store/UserLogin");this.$http.post(s,e,a).then((function(e){t()}))},getSite:function(){var t=this,e="http://".concat(t.api,"/interface/store/GetSite");this.$http.get(e).then((function(e){e.data.errormessage?t.login(t.getSite):(t.site=e.data.data[0],localStorage.setItem("site",JSON.stringify(t.site)),t.getStore(),t.getCategories(),t.getProducts())}))},getStore:function(){var t=this,e="http://".concat(t.api,"/interface/store/getStore");t.categories=[],this.$http.get(e).then((function(e){e.data.errormessage?t.login(t.getStore):(t.store=e.data.data[0],t.arrangement=t.store.Sort||"0",document.title=t.store.Name)}))},getCategories:function(){var t=this,e="http://".concat(t.api,"/interface/store/GetCategory");t.categories=[],this.$http.get(e).then((function(e){t.categories=[{ID:"0",Name:"所有分類商品",Show:"1"}].concat(Object(g["a"])(e.data.data))}))},getProducts:function(){var t=this,e="http://".concat(t.api,"/interface/store/storeLogin");t.products=[],this.$http.get(e).then(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(a){var s,i,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.products=a.data.data,s=0;s<t.products.length;s++){for(i=t.products[s],t.$set(i,"buyQty",0),t.$set(i,"mainImgIndex",0),t.$set(i,"imgArr",[i.Img1,i.Img2,i.Img3,i.Img4,i.Img5]),t.$set(i,"categoryArr",[i.Category1,i.Category2,i.Category3,i.Category4,i.Category5]),r=0,c=0;c<i.imgArr.length;c++)i.imgArr[c]&&r++;t.$set(i,"allPicLength",r)}t.category="0",t.getCarts();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getAddPrice:function(t,e,a,s){var i=this,r="http://".concat(i.api,"/interface/store/GetAdditional"),c="id=".concat(t),o={headers:{"Content-Type":"application/x-www-form-urlencoded"}};i.$http.post(r,c,o).then((function(t){var r=t.data.data;r.forEach((function(t){t.Qty=0})),i.$set(e,"addPrice",r),i.getCarts(),s?e.addPrice[a].Qty=s:i.computedLiLength()}))},getCarts:function(){this.carts=JSON.parse(localStorage.getItem("".concat(this.site.Site,"@carts")))||[];for(var t=0;t<this.carts.length;t++)for(var e=0;e<this.products.length;e++)if(this.carts[t].ID===this.products[e].ID&&(this.products[e].buyQty=this.carts[t].buyQty,this.carts[t].addPrice))for(var a=0;a<this.carts[t].addPrice.length;a++)this.products[e].addPrice&&(this.products[e].addPrice[a].Qty=this.carts[t].addPrice[a].Qty);this.computedCartsLength()},setCarts:function(){this.computedCartsLength(),localStorage.setItem("".concat(this.site.Site,"@carts"),JSON.stringify(this.carts)),this.getTotal()},createCartsStr:function(){var t={id:"",price:"",qry:"",additionalid:"",additionalprice:"",additionalqry:""};return this.carts.forEach((function(e,a){t.id+=""===t.id?"".concat(e.ID):",".concat(e.ID),t.price+=""===t.price?"".concat(e.NowPrice):",".concat(e.NowPrice),t.qry+=""===t.qry?"".concat(e.buyQty):",".concat(e.buyQty);if(e.addPrice)for(var s=0;s<e.addPrice.length;s++){var i=e.addPrice[s];i.Qty&&(t.additionalid+=""===t.additionalid?"".concat(i.ID):",".concat(i.ID),t.additionalprice+=""===t.additionalprice?"".concat(i.Price):",".concat(i.Price),t.additionalqry+=""===t.additionalqry?"".concat(i.Qty):",".concat(i.Qty),!1)}})),t},getTotal:function(){var t=this,e=t.createCartsStr();if(e.id){t.total={};var a="http://".concat(t.api,"/interface/store/GetProductTotal?"),s="id=".concat(e.id,"&qry=").concat(e.qry,"&additionalid=").concat(e.additionalid,"&additionalqry=").concat(e.additionalqry,"&code=").concat(t.useCodeSuccess),i={headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.$http.post(a,s,i).then((function(e){e.data.errormessage?t.login(t.getTotal):t.total=e.data.data[0]}))}},checkOrder:function(){var t=this,e=this;e.orderIng||e.$validator.validate().then((function(a){if(a&&"0"!==e.transport)if(e.useCodeSuccess){var s="http://".concat(e.api,"/interface/store/DiscountCodeCheckEmail"),i="code=".concat(e.discountCode,"&email=").concat(e.info.purchaser_email),r={headers:{"Content-Type":"application/x-www-form-urlencoded"}};t.$http.post(s,i,r).then((function(t){if("0"===t.data.data[0].status){var a=confirm("該mail已使用過折扣碼，按確定取消折扣碼優惠直接完成訂單，按取消重新輸入email或折扣碼");a&&(e.discountCode="",e.useCodeSuccess="",e.total.Sum=1*e.total.Sum+1*e.total.DiscountCode,e.total.DiscountCode=0,e.createOrder())}else e.createOrder()}))}else e.createOrder()}))},createOrder:function(){var t=this;this.orderIng=!0;var e=this.createCartsStr(),a="http://192.168.6.239:5052/Line/LinePayRequest",s="Site=".concat(this.site.Site,"&StoreName=").concat(this.site.Name,"&ProductIdList=").concat(e.id,"&PriceList=").concat(e.price,"&AmountList=").concat(e.qry,"&ExtraProductIdList=").concat(e.additionalid,"&ExtraPriceList=").concat(e.additionalprice,"&ExtraAmountList=").concat(e.additionalqry,"&SendWay=").concat(this.transport,"&Email=").concat(this.info.purchaser_email,"&Name=").concat(this.info.purchaser_name,"&Phone=").concat(this.info.purchaser_number,"&Receiver=").concat(this.info.receiver_name,"&ReceiverPhone=").concat(this.info.receiver_number,"&Address=").concat(this.info.receiver_address,"&Message=").concat(this.info.info_message,"&Discount=").concat(1*this.total.Discount,"&Shipping=").concat(1*this.total.Shipping,"&Total=").concat(1*this.total.Sum,"&DiscountPrice=").concat(this.total.DiscountCode,"&DiscountCode=").concat(this.useCodeSuccess),i={headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.$http.post(a,s,i).then((function(e){if(e.data.success)return t.showMessage("",!1),void(t.orderIng=!1);t.orderIng=!1,window.open(e.data.payUrl),t.carts=[],t.setCarts(),t.info={purchaser_email:"",purchaser_name:"",purchaser_number:"",receiver_name:"",receiver_number:"",receiver_address:"",info_message:""},t.discountCode="",t.useCodeSuccess="",t.showPage="main",t.stepIndex=1,t.getProducts()}))},computedCartsLength:function(){for(var t=0,e=0;e<this.carts.length;e++)if(this.carts[e].addPrice)for(var a=0;a<this.carts[e].addPrice.length;a++)this.carts[e].addPrice[a].Qty&&(t+=1);this.cartsLength=this.carts.length+t},updateCartsBuyQty:function(t,e){var a=this;e=e<0?0:e>10?10:e;var s=a.carts[t];if(s.buyQty=e,a.products.forEach((function(s,i){s.ID===a.carts[t].ID&&(s.buyQty=e)})),a.carts.forEach((function(t,e){0===t.buyQty&&a.carts.splice(e,1)})),a.setCarts(),s.addPrice)for(var i=0;i<s.addPrice.length;i++)s.addPrice[i].Qty>s.buyQty&&a.updateCartsAddpriceQty(s,i,s.buyQty)},updateProductsBuyQty:function(t,e,a){var s=this;e=e<0?0:e>10?10:e;var i=e-s.pageFilterProduct[t].buyQty;if(0!==i){s.$set(s.pageFilterProduct[t],"buyQty",e);var r=!1,c=s.pageFilterProduct[t];if(s.carts.forEach((function(t,e){t.ID===c.ID&&(r=!0,s.carts[e].buyQty=c.buyQty)})),!1===r&&s.carts.push(JSON.parse(JSON.stringify(c))),s.carts.forEach((function(t,e){0===t.buyQty&&s.carts.splice(e,1)})),s.setCarts(),a&&s.flyHandler(t,i,a),s.pageFilterProduct[t].addPrice)for(var o=0;o<s.pageFilterProduct[t].addPrice.length;o++)s.updateProductsAddpriceQty(s.pageFilterProduct[t],o,s.pageFilterProduct[t].addPrice[o].Qty)}},updateCartsAddpriceQty:function(t,e,a){var s=this;a=a<0?0:a>t.buyQty?t.buyQty:a,t.addPrice[e].Qty=a,s.products.forEach((function(i,r){i.ID===t.ID&&(i.addPrice?i.addPrice[e].Qty=a:s.getAddPrice(i.ID,i,e,a))})),s.setCarts()},updateProductsAddpriceQty:function(t,e,a){var s=this;a=a<0?0:a>t.buyQty?t.buyQty:a,s.$set(t.addPrice[e],"Qty",a);var i=t;s.carts.forEach((function(t,a){t.ID===i.ID&&(s.carts[a].addPrice||(s.carts[a].addPrice=Object(g["a"])(i.addPrice)),s.carts[a].addPrice[e].Qty=i.addPrice[e].Qty)})),s.setCarts()},flyHandler:function(t,e,a){var s,i,r=a.pageX,c=a.pageY,o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=document.querySelector(".cartIcon"),l=n.offsetTop+o+12.5,d=n.offsetLeft+12.5;e>0?(s={x:r,y:c},i={x:d,y:l}):(s={x:d,y:l},i={x:r,y:c});document.querySelector(".flyImg");this.flyImgIndex=t,this.flyImgTop=s.y,this.flyImgLeft=s.x,this.showflyImg=1;var u=50,v=(i.x-s.x)/u,p=(i.y-s.y)/u;e<0&&this.cartIconScaleHandler();var f=this,m=setInterval((function(){u-=1,s.x+=v,s.y+=p,f.flyImgTop=s.y,f.flyImgLeft=s.x,u<1&&(clearInterval(m),f.showflyImg=0,e>0&&f.cartIconScaleHandler())}),10)},cartIconScaleHandler:function(){var t=this;t.cartIconScale=1,setTimeout((function(){t.cartIconScale=0}),200)},pageChange:function(t){t=t<1?1:t>this.totalPage?this.totalPage:t,this.currentPage=t},showMessage:function(t,e){var a=this,s=(new Date).getTime();this.messageArr.push({id:s,messageStr:t,isSuccess:e,messageActive:!1,messagefadeout:!1}),setTimeout((function(){a.messageArr.forEach((function(t,e){t.id===s&&(a.messageArr[e].messageActive=!0)})),setTimeout((function(){a.messageArr.forEach((function(t,e){t.id===s&&(a.messageArr[e].messagefadeout=!0)})),setTimeout((function(){a.messageArr.forEach((function(t,e){t.id===s&&a.messageArr.splice(e,1)}))}),500)}),5e3)}),100)},pInput:function(){this.isSame&&(this.info.receiver_name=this.info.purchaser_name,this.info.receiver_number=this.info.purchaser_number)},unescapeHTML:function(t){return t=""+t,t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'")},computedLiLength:function(){var t=this;this.liLength=0,this.liLength=this.$refs.picLength.clientWidth/3,this.$refs.liItem.forEach((function(e){e.style.width=t.liLength-10+"px"}))},discount:function(){var t=this;if(t.discountCode){var e="http://".concat(t.api,"/interface/store/CheckDiscountCode"),a="code=".concat(t.discountCode),s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};t.$http.post(e,a,s).then((function(e){var a=e.data.data[0].status;"1"===a?a="套用折扣碼成功":"0"===a?a="查無此折扣碼":"2"===a&&(a="折扣碼已用完"),t.showMessage(a,"套用折扣碼成功"===a),"套用折扣碼成功"===a?(t.useCodeSuccess=t.discountCode,t.getTotal()):(t.discountCode="",t.useCodeSuccess="",t.getTotal())}))}else t.showMessage("請輸入折扣碼",!1)}},created:function(){var t=JSON.parse(localStorage.getItem("isUsed2"))||!1;t||(localStorage.removeItem("carts"),localStorage.removeItem("isUsed"),localStorage.removeItem("".concat(this.site.Site,"@carts")),localStorage.setItem("isUsed2",JSON.stringify(!0))),this.getSite()},mounted:function(){this.innerHeight=window.innerHeight}},_=y,C=(a("45bc"),a("2877")),P=Object(C["a"])(_,f,m,!1,null,null,null),w=P.exports,b={name:"App",components:{home:w}},I=b,x=Object(C["a"])(I,v,p,!1,null,null,null),S=x.exports;s["a"].use(o.a,r.a),s["a"].use(u["a"]);var N=new u["a"]({locale:"zhTW"});s["a"].use(n["a"],{events:"input|blur",i18n:N,dictionary:{zhTW:d.a}}),s["a"].config.productionTip=!1,r.a.defaults.withCredentials=!0,new s["a"]({render:function(t){return t(S)},i18n:N}).$mount("#app")}});
//# sourceMappingURL=app.c1fcc40b.js.map